(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"Wh+r":function(e,n,t){"use strict";t.r(n),t.d(n,"Products",(function(){return q}));var r=t("fGyu"),a=t("ERkP"),o=t.n(a),i=t("7xIC"),l=t("HbGN"),u=t("dFr0"),s=t("f/wd"),c=t("ZhUJ"),d=t("2SGB"),f=o.a.createElement,m=function(e){var n=e.name,t=e.image,r=e.restaurantType,a=e.delivery,o=e.isFree,i=e.duration,m=e.discountInPercent,v=(e.data,e.onClick);Object(l.a)(e,["name","image","restaurantType","delivery","isFree","duration","discountInPercent","data","onClick"]);return f(c.j,{onClick:v,className:"product-card"},f(c.k,null,f(u.a,{url:t,className:"product-image",style:{position:"relative"},alt:n}),m&&f(c.h,null,m,"%")),f(c.n,{style:{display:"flex",flexDirection:"column",height:"100%"}},f("h3",{className:"product-title"},n),f(c.f,{style:{marginBottom:20,display:"inline-block"}},r),f(c.o,{style:{marginTop:"auto"}},f(c.g,null,!o&&s.a,a," ",f(d.a,{id:"deliveryText",defaultMessage:"Delivery"})),f(c.i,null,i))))},v=t("AnkB"),y=t("1U1M"),g=t("B68Z"),p=t("Sagj"),h=t("MFEH"),b=t.n(h),M=t("dyY1");function k(e){if(e<3600){var n=j(Math.floor(e/60),2);return"".concat(n," Min")}var t=j(Math.floor(e/3600),2),r=j(Math.floor((e-3600*t)/60),2);return"".concat(t," H ").concat(r," Min")}function j(e,n){for(var t=String(e);t.length<n;)t="0".concat(t);return t}var x=t("KD1n"),$=t("H5qd");function C(){var e=Object(x.a)(["\n  query getVendors(\n    $type: String\n    $text: String\n    $category: String\n    $offset: Int\n    $limit: Int\n  ) {\n    vendors(\n      type: $type\n      text: $text\n      category: $category\n      offset: $offset\n      limit: $limit\n    ) {\n      items {\n        id\n        slug\n        type\n        categories\n        name\n        thumbnailUrl\n        description\n        promotion\n        deliveryDetails {\n          charge\n          minimumOrder\n          isFree\n        }\n      }\n      totalCount\n      hasMore\n    }\n  }\n"]);return C=function(){return e},e}var F=t.n($)()(C()),O=o.a.createElement,q=function(e){e.deviceType;var n,t=e.type,l=e.fetchLimit,u=void 0===l?8:l,s=e.loadMore,c=void 0===s||s,f=Object(i.useRouter)(),h=Object(a.useState)(!1),j=h[0],x=h[1],$=Object(y.b)(F,{variables:{type:t,text:f.query.text,category:f.query.category,offset:0,limit:u}}),C=$.data,q=$.error,w=$.loading,S=$.fetchMore;if(w)return O(v.c,null,O(v.b,null,O(p.c,{uniqueKey:"1"})),O(v.b,null,O(p.c,{uniqueKey:"2"})),O(v.b,null,O(p.c,{uniqueKey:"3"})));if(q)return O("div",null,q.message);if(!C||!C.vendors||0===C.vendors.items.length)return O(M.a,null);return O(o.a.Fragment,null,O(v.f,null,null===C||void 0===C?void 0:null===(n=C.vendors)||void 0===n?void 0:n.items.map((function(e,n){return O(v.e,{key:n,className:"food-col"},O(v.d,null,O(b.a,{duration:800,delay:10*n,style:{height:"100%"}},O(m,{name:e.name,image:e.thumbnailUrl,restaurantType:null===e||void 0===e?void 0:e.categories.join(", "),duration:k(Math.floor(1e3*Math.random())+100),delivery:e.deliveryDetails.charge,isFree:e.deliveryDetails.isFree,discountInPercent:e.promotion,data:e,onClick:function(){return f.push("/restaurant/[slug]","/restaurant/".concat(e.slug))}}))))}))),c&&C.vendors.hasMore&&O(v.a,null,O(g.a,{onClick:function(){x(!0),S({variables:{offset:Number(C.vendors.items.length),limit:u},updateQuery:function(e,n){var t=n.fetchMoreResult;return x(!1),t?{vendors:{__typename:e.vendors.__typename,items:[].concat(Object(r.a)(e.vendors.items),Object(r.a)(t.vendors.items)),totalCount:t.vendors.totalCount,hasMore:t.vendors.hasMore}}:e}})},loading:j,variant:"secondary",border:"1px solid #f1f1f1"},O(d.a,{id:"loadMoreButton",defaultMessage:"Load More"}))))};n.default=q}}]);