{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { Button } from 'components/button/button';\nimport { ProductDetailsWrapper, ProductPreview, ProductInfo, ProductTitlePriceWrapper, ProductTitle, BackButton, ProductWeight, ProductDescription, ButtonText, ProductMeta, ProductCartWrapper, ProductPriceWrapper, ProductPrice, SalePrice, ProductCartBtn, MetaSingle, MetaItem, RelatedItems } from './product-details-one.style';\nimport { LongArrowLeft } from 'assets/icons/LongArrowLeft';\nimport { CartIcon } from 'assets/icons/CartIcon';\nimport ReadMore from 'components/truncate/truncate';\nimport CarouselWithCustomDots from 'components/multi-carousel/multi-carousel';\nimport Products from 'components/product-grid/product-list/product-list';\nimport { CURRENCY } from 'utils/constant';\nimport { FormattedMessage } from 'react-intl';\nimport { useLocale } from 'contexts/language/language.provider';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { Counter } from 'components/counter/counter';\n\nconst ProductDetails = ({\n  product,\n  deviceType\n}) => {\n  var _product$categories;\n\n  const {\n    isRtl\n  } = useLocale();\n  const {\n    addItem,\n    removeItem,\n    isInCart,\n    getItem\n  } = useCart();\n  const data = product;\n\n  const handleAddClick = e => {\n    e.stopPropagation();\n    addItem(data);\n  };\n\n  const handleRemoveClick = e => {\n    e.stopPropagation();\n    removeItem(data);\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, 500);\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(ProductDetailsWrapper, {\n    className: \"product-card\",\n    dir: \"ltr\"\n  }, !isRtl && __jsx(ProductPreview, null, __jsx(BackButton, null, __jsx(Button, {\n    type: \"button\",\n    size: \"small\",\n    style: {\n      backgroundColor: '#ffffff',\n      border: '1px solid #f1f1f1',\n      color: '#77798c'\n    },\n    onClick: Router.back\n  }, __jsx(LongArrowLeft, {\n    style: {\n      marginRight: 5\n    }\n  }), __jsx(FormattedMessage, {\n    id: \"backBtn\",\n    defaultMessage: \"Back\"\n  }))), __jsx(CarouselWithCustomDots, {\n    items: product.gallery,\n    deviceType: deviceType\n  })), __jsx(ProductInfo, {\n    dir: isRtl ? 'rtl' : 'ltr'\n  }, __jsx(ProductTitlePriceWrapper, null, __jsx(ProductTitle, null, product.title), __jsx(ProductPriceWrapper, null, product.discountInPercent ? __jsx(SalePrice, null, CURRENCY, product.price) : null, __jsx(ProductPrice, null, CURRENCY, product.salePrice ? product.salePrice : product.price))), __jsx(ProductWeight, null, product.unit), __jsx(ProductDescription, null, __jsx(ReadMore, {\n    character: 600\n  }, product.description)), __jsx(ProductCartWrapper, null, __jsx(ProductCartBtn, null, !isInCart(data.id) ? __jsx(Button, {\n    className: \"cart-button\",\n    variant: \"secondary\",\n    borderRadius: 100,\n    onClick: handleAddClick\n  }, __jsx(CartIcon, {\n    mr: 2\n  }), __jsx(ButtonText, null, __jsx(FormattedMessage, {\n    id: \"addCartButton\",\n    defaultMessage: \"Cart\"\n  }))) : __jsx(Counter, {\n    value: getItem(data.id).quantity,\n    onDecrement: handleRemoveClick,\n    onIncrement: handleAddClick\n  }))), __jsx(ProductMeta, null, __jsx(MetaSingle, null, product === null || product === void 0 ? void 0 : (_product$categories = product.categories) === null || _product$categories === void 0 ? void 0 : _product$categories.map(item => __jsx(Link, {\n    href: `/${product.type.toLowerCase()}?category=${item.slug}`,\n    key: `link-${item.id}`\n  }, __jsx(\"a\", null, __jsx(MetaItem, null, item.title))))))), isRtl && __jsx(ProductPreview, null, __jsx(BackButton, null, __jsx(Button, {\n    title: \"Back\",\n    intlButtonId: \"backBtn\",\n    iconPosition: \"left\",\n    size: \"small\",\n    style: {\n      backgroundColor: '#ffffff',\n      border: '1px solid #f1f1f1',\n      color: '#77798c'\n    },\n    icon: __jsx(LongArrowLeft, null),\n    onClick: Router.back\n  })), __jsx(CarouselWithCustomDots, {\n    items: product.gallery,\n    deviceType: deviceType\n  }))), __jsx(RelatedItems, null, __jsx(\"h2\", null, __jsx(FormattedMessage, {\n    id: \"intlReletedItems\",\n    defaultMessage: \"Related Items\"\n  })), __jsx(Products, {\n    type: product.type.toLowerCase(),\n    deviceType: deviceType,\n    loadMore: false,\n    fetchLimit: 10\n  })));\n};\n\nexport default ProductDetails;","map":null,"metadata":{},"sourceType":"module"}