{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/arafat/codes/pickbazar-template/packages/shop/src/pages/[type].tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport dynamic from 'next/dynamic';\nimport { useRouter } from 'next/router';\nimport { Modal } from '@redq/reuse-modal';\nimport StoreNav from 'components/store-nav/store-nav';\nimport Carousel from 'components/carousel/carousel';\nimport { Banner } from 'components/banner/banner';\nimport { MainContentArea, SidebarSection, ContentSection, OfferSection, MobileCarouselDropdown } from 'assets/styles/pages.style'; // Static Data Import Here\n\nimport { siteOffers } from 'site-settings/site-offers';\nimport { sitePages } from 'site-settings/site-pages';\nimport { SEO } from 'components/seo';\nimport { useRefScroll } from 'utils/use-ref-scroll';\nimport { CATEGORY_MENU_ITEMS } from 'site-settings/site-navigation';\nvar Sidebar = dynamic(_c = function _c() {\n  return import('layouts/sidebar/sidebar');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('layouts/sidebar/sidebar')];\n    },\n    modules: ['layouts/sidebar/sidebar']\n  }\n});\n_c2 = Sidebar;\nvar Products = dynamic(_c3 = function _c3() {\n  return import('components/product-grid/product-list/product-list');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('components/product-grid/product-list/product-list')];\n    },\n    modules: ['components/product-grid/product-list/product-list']\n  }\n});\n_c4 = Products;\nvar CartPopUp = dynamic(_c5 = function _c5() {\n  return import('features/carts/cart-popup');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('features/carts/cart-popup')];\n    },\n    modules: ['features/carts/cart-popup']\n  }\n});\n_c6 = CartPopUp;\n\nvar CategoryPage = function CategoryPage(_ref) {\n  _s();\n\n  var deviceType = _ref.deviceType;\n\n  var _useRouter = useRouter(),\n      query = _useRouter.query;\n\n  var _useRefScroll = useRefScroll({\n    percentOfElement: 0,\n    percentOfContainer: 0,\n    offsetPX: -110\n  }),\n      targetRef = _useRefScroll.elRef,\n      scroll = _useRefScroll.scroll;\n\n  React.useEffect(function () {\n    if (query.text || query.category) {\n      scroll();\n    }\n  }, [query.text, query.category]);\n  var PAGE_TYPE = query.type;\n  var page = sitePages[PAGE_TYPE];\n  return __jsx(React.Fragment, null, __jsx(SEO, {\n    title: page === null || page === void 0 ? void 0 : page.page_title,\n    description: page === null || page === void 0 ? void 0 : page.page_description,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), __jsx(Modal, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, __jsx(Banner, {\n    intlTitleId: page === null || page === void 0 ? void 0 : page.banner_title_id,\n    intlDescriptionId: page === null || page === void 0 ? void 0 : page.banner_description_id,\n    imageUrl: page === null || page === void 0 ? void 0 : page.banner_image_url,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), __jsx(MobileCarouselDropdown, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, __jsx(StoreNav, {\n    items: CATEGORY_MENU_ITEMS,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }), __jsx(Sidebar, {\n    type: PAGE_TYPE,\n    deviceType: deviceType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  })), __jsx(OfferSection, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      margin: '0 -10px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, __jsx(Carousel, {\n    deviceType: deviceType,\n    data: siteOffers,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }))), __jsx(MainContentArea, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, __jsx(SidebarSection, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, __jsx(Sidebar, {\n    type: PAGE_TYPE,\n    deviceType: deviceType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  })), __jsx(ContentSection, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    ref: targetRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, __jsx(Products, {\n    type: PAGE_TYPE,\n    deviceType: deviceType,\n    fetchLimit: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  })))), __jsx(CartPopUp, {\n    deviceType: deviceType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  })));\n};\n\n_s(CategoryPage, \"F0Luemspc9OruEKoc/54xlu8444=\", false, function () {\n  return [useRouter, useRefScroll];\n});\n\n_c7 = CategoryPage;\nexport var __N_SSG = true;\nexport default CategoryPage;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Sidebar$dynamic\");\n$RefreshReg$(_c2, \"Sidebar\");\n$RefreshReg$(_c3, \"Products$dynamic\");\n$RefreshReg$(_c4, \"Products\");\n$RefreshReg$(_c5, \"CartPopUp$dynamic\");\n$RefreshReg$(_c6, \"CartPopUp\");\n$RefreshReg$(_c7, \"CategoryPage\");","map":{"version":3,"sources":["/home/arafat/codes/pickbazar-template/packages/shop/src/pages/[type].tsx"],"names":["React","dynamic","useRouter","Modal","StoreNav","Carousel","Banner","MainContentArea","SidebarSection","ContentSection","OfferSection","MobileCarouselDropdown","siteOffers","sitePages","SEO","useRefScroll","CATEGORY_MENU_ITEMS","Sidebar","Products","CartPopUp","ssr","CategoryPage","deviceType","query","percentOfElement","percentOfContainer","offsetPX","targetRef","elRef","scroll","useEffect","text","category","PAGE_TYPE","type","page","page_title","page_description","banner_title_id","banner_description_id","banner_image_url","margin"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { GetStaticProps } from 'next';\nimport dynamic from 'next/dynamic';\nimport { useRouter } from 'next/router';\nimport { Modal } from '@redq/reuse-modal';\nimport StoreNav from 'components/store-nav/store-nav';\nimport Carousel from 'components/carousel/carousel';\nimport { Banner } from 'components/banner/banner';\nimport {\n  MainContentArea,\n  SidebarSection,\n  ContentSection,\n  OfferSection,\n  MobileCarouselDropdown,\n} from 'assets/styles/pages.style';\n// Static Data Import Here\nimport { siteOffers } from 'site-settings/site-offers';\nimport { sitePages } from 'site-settings/site-pages';\nimport { SEO } from 'components/seo';\nimport { useRefScroll } from 'utils/use-ref-scroll';\nimport { initializeApollo } from 'utils/apollo';\nimport { GET_PRODUCTS } from 'graphql/query/products.query';\nimport { GET_CATEGORIES } from 'graphql/query/category.query';\nimport { CATEGORY_MENU_ITEMS } from 'site-settings/site-navigation';\nconst Sidebar = dynamic(() => import('layouts/sidebar/sidebar'));\nconst Products = dynamic(() =>\n  import('components/product-grid/product-list/product-list')\n);\nconst CartPopUp = dynamic(() => import('features/carts/cart-popup'), {\n  ssr: false,\n});\n\nconst CategoryPage: React.FC<any> = ({ deviceType }) => {\n  const { query } = useRouter();\n  const { elRef: targetRef, scroll } = useRefScroll({\n    percentOfElement: 0,\n    percentOfContainer: 0,\n    offsetPX: -110,\n  });\n  React.useEffect(() => {\n    if (query.text || query.category) {\n      scroll();\n    }\n  }, [query.text, query.category]);\n  const PAGE_TYPE: any = query.type;\n  const page = sitePages[PAGE_TYPE];\n  return (\n    <>\n      <SEO title={page?.page_title} description={page?.page_description} />\n\n      <Modal>\n        <Banner\n          intlTitleId={page?.banner_title_id}\n          intlDescriptionId={page?.banner_description_id}\n          imageUrl={page?.banner_image_url}\n        />\n        <MobileCarouselDropdown>\n          <StoreNav items={CATEGORY_MENU_ITEMS} />\n          <Sidebar type={PAGE_TYPE} deviceType={deviceType} />\n        </MobileCarouselDropdown>\n        <OfferSection>\n          <div style={{ margin: '0 -10px' }}>\n            <Carousel deviceType={deviceType} data={siteOffers} />\n          </div>\n        </OfferSection>\n        <MainContentArea>\n          <SidebarSection>\n            <Sidebar type={PAGE_TYPE} deviceType={deviceType} />\n          </SidebarSection>\n          <ContentSection>\n            <div ref={targetRef}>\n              <Products\n                type={PAGE_TYPE}\n                deviceType={deviceType}\n                fetchLimit={20}\n              />\n            </div>\n          </ContentSection>\n        </MainContentArea>\n        <CartPopUp deviceType={deviceType} />\n      </Modal>\n    </>\n  );\n};\nexport const getStaticProps: GetStaticProps = async ({ params }) => {\n  const apolloClient = initializeApollo();\n\n  await apolloClient.query({\n    query: GET_PRODUCTS,\n    variables: {\n      type: params.type,\n      offset: 0,\n      limit: 20,\n    },\n  });\n  await apolloClient.query({\n    query: GET_CATEGORIES,\n    variables: {\n      type: params.type,\n    },\n  });\n\n  return {\n    props: {\n      initialApolloState: apolloClient.cache.extract(),\n    },\n    unstable_revalidate: 1,\n  };\n};\n\nexport async function getStaticPaths() {\n  return {\n    paths: [\n      { params: { type: 'grocery' } },\n      { params: { type: 'makeup' } },\n      { params: { type: 'bags' } },\n      { params: { type: 'book' } },\n      { params: { type: 'medicine' } },\n      { params: { type: 'furniture' } },\n      { params: { type: 'clothing' } },\n    ],\n    fallback: false,\n  };\n}\nexport default CategoryPage;\n"]},"metadata":{},"sourceType":"module"}