(this["webpackJsonp@pick-bazar/admin"]=this["webpackJsonp@pick-bazar/admin"]||[]).push([[27],{317:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return P}));var a=n(44),r=n(53),l=n(0),c=n.n(l),o=n(111),m=n.n(o),i=n(69),s=n(97),u=n(98),d=n(96),p=n(54),f=n.n(p),E=n(46),b=n(112),h=n(115),x=n(139),g=n(116),y=n(140),O=n(99),C=n(55);function T(){const e=Object(r.a)(["\n    mutation DeleteType($id: ID!) {\n        deleteType(id: $id) {\n            message\n            status\n        }\n    }\n"]);return T=function(){return e},e}function w(){const e=Object(r.a)(["\n    query GetTypes(\n        $searchText: String\n        $offset: Int\n    ) {\n        types(\n            searchText: $searchText\n            offset: $offset\n        ) {\n            items {\n                id\n                name\n                slug\n                image\n                icon\n                meta_title\n                meta_keyword\n                meta_description\n                created_at\n            }\n            totalCount\n            hasMore\n        }\n    }\n"]);return w=function(){return e},e}const _=({icon:e,width:t="18px",height:n="18px"})=>{let a=h.b.hasOwnProperty(e)?h.b[e]:"span";return c.a.createElement(a,{width:t,height:n})},k=f()(w()),j=f()(T());var R=e=>{let t=e.itemData,n=e.itemsOffset;Object(C.a)(e,["itemData","itemsOffset"]);const r=Object(O.b)(),l=c.a.useCallback(()=>{r({type:"OPEN_DRAWER",drawerComponent:"TYPE_UPDATE_FORM",data:t})},[r,t]),o=Object(E.a)(j,{update:e=>{const a=e.readQuery({query:k,variables:{offset:n}}).types;e.writeQuery({query:k,variables:{offset:n},data:{types:{__typename:a.__typename,items:a.items.filter(e=>e.id!==t.id),hasMore:a.items.length-1>=12,totalCount:a.items.length-1}}})}}),m=Object(a.a)(o,1)[0];return c.a.createElement("div",null,c.a.createElement(x.a,null,c.a.createElement(x.b,{onClick:l,style:{marginRight:"10px",cursor:"pointer"}},c.a.createElement(_,{icon:"ArrowNext"}))),c.a.createElement(x.a,null,c.a.createElement(x.b,{onClick:()=>{confirm("Are you sure? You can not undo this.")&&m({variables:{id:t.id}})},style:{color:"#c50707",cursor:"pointer"}},c.a.createElement(_,{width:"15px",height:"15px",icon:"CloseIcon"}))))},v=n(109);function $(){const e=Object(r.a)(["\n  query GetTypes(\n    $searchText: String\n    $offset: Int\n  ) {\n    types(\n      searchText: $searchText\n      offset: $offset\n    ) {\n      items {\n        id\n        name\n        slug\n        image\n        icon\n        home_title\n        home_subtitle\n        meta_title\n        meta_keyword\n        meta_description\n        created_at\n      }\n      totalCount\n      hasMore\n    }\n  }\n"]);return $=function(){return e},e}const A=f()($()),D=Object(i.d)(s.a,()=>({"@media only screen and (max-width: 767px)":{marginBottom:"20px",":last-child":{marginBottom:0}}})),B=Object(i.d)(s.c,()=>({"@media only screen and (min-width: 768px)":{alignItems:"center"}})),M={width:"90px",marginRight:"10px",color:"#6f6f6f",backgroundColor:"#d8d8d8"},S={width:"90px",marginLeft:"10px",color:"#6f6f6f",backgroundColor:"#d8d8d8"};function P(){const e=Object(l.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(l.useState)(0),i=Object(a.a)(o,2),p=i[0],f=i[1],C=Object(E.b)(A),T=C.data,w=C.error,_=C.refetch,k=Object(O.b)(),j=Object(l.useCallback)(()=>k({type:"OPEN_DRAWER",drawerComponent:"TYPE_FORM"}),[k]);if(w)return c.a.createElement("div",null,"Error! ",w.message);function $(e){return!!e&&0===e.types.totalCount||0===p}function P(e){return!e||!e.types.hasMore}const I=({icon:e})=>{let t=h.b.hasOwnProperty(e)?h.b[e]:"span";return c.a.createElement(t,null)};return c.a.createElement(s.b,{fluid:!0},c.a.createElement(B,null,c.a.createElement(D,{md:12},c.a.createElement(b.a,{style:{marginBottom:30,boxShadow:"0 0 5px rgba(0, 0 ,0, 0.05)"}},c.a.createElement(D,{md:2},c.a.createElement(b.b,null,"Types")),c.a.createElement(D,{md:6},c.a.createElement(u.a,{value:n,placeholder:"Ex: Search By Name",onChange:function(e){const t=e.currentTarget.value;r(t),_({searchText:t})},clearable:!0})),c.a.createElement(D,{md:2},c.a.createElement(d.b,{onClick:j,startEnhancer:()=>c.a.createElement(y.d,null),overrides:{BaseButton:{style:()=>({width:"100%",borderTopLeftRadius:"3px",borderTopRightRadius:"3px",borderBottomLeftRadius:"3px",borderBottomRightRadius:"3px"})}}},"Add Type"))),c.a.createElement(b.c,{style:{boxShadow:"0 0 5px rgba(0, 0 , 0, 0.05)"}},c.a.createElement(x.h,null,c.a.createElement(x.g,{$gridTemplateColumns:"minmax(70px, 70px) minmax(150px, auto) minmax(150px, auto) minmax(70px, 70px) minmax(70px, 70px) minmax(120px, auto) minmax(160px, 160px)"},c.a.createElement(x.f,null,"#"),c.a.createElement(x.f,null,"Name"),c.a.createElement(x.f,null,"Slug"),c.a.createElement(x.f,null,"Image"),c.a.createElement(x.f,null,"Icon"),c.a.createElement(x.f,null,"Created At"),c.a.createElement(x.f,null,"Action"),T?T.types.items.length?T.types.items.map((e,t)=>c.a.createElement(c.a.Fragment,{key:t},c.a.createElement(x.e,null,t+1),c.a.createElement(x.e,null,e.name),c.a.createElement(x.e,null,e.slug),c.a.createElement(x.e,null,c.a.createElement(x.d,null,c.a.createElement(x.c,{src:"".concat(v.a).concat(e.image)}))),c.a.createElement(x.e,null,c.a.createElement(x.b,null,c.a.createElement(I,{icon:e.icon}))),c.a.createElement(x.e,null,m()(e.created_at).format("DD MMM YYYY hh:mm:ss A")),c.a.createElement(x.e,null,c.a.createElement(R,{itemsOffset:p,itemData:e})))):c.a.createElement(g.a,{hideButton:!1,style:{gridColumnStart:"1",gridColumnEnd:"one"}}):null))),c.a.createElement(B,null,c.a.createElement(D,{md:8}),c.a.createElement(D,{md:4,style:{display:"block",textAlign:"right",marginTop:"20px"}},c.a.createElement(d.b,{style:$(T)?M:{marginRight:"10px"},disabled:$(T),onClick:function(){f(p-12),_({offset:p-12})}},"Previous"),c.a.createElement(d.b,{style:P(T)?S:null,disabled:P(T),onClick:function(){f(p+12),_({offset:p+12})}},"Next"))))))}}}]);
//# sourceMappingURL=27.30e32d92.chunk.js.map